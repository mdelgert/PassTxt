import"./style-qiVDcRWx.js";const i="https://api.github.com/repos/mdelgert/PassTxt/releases",r=document.getElementById("firmware-select"),a=document.getElementById("install-button");async function l(){try{const e=await fetch(i);if(!e.ok)throw new Error(`GitHub API error: ${e.statusText}`);const t=await e.json();m(t)}catch(e){console.error("Failed to fetch releases:",e)}}function m(e){const t=e.slice(0,10);t.forEach(s=>{const n=s.tag_name,c=`firmware/${n}.json`,o=document.createElement("option");o.value=c,o.textContent=`${n}`,r.appendChild(o)}),t.length>0&&a.setAttribute("manifest",`firmware/${t[0].tag_name}.json`)}r.addEventListener("change",e=>{const t=e.target.value;a.setAttribute("manifest",t)});const u=document.querySelector("esp-web-install-button");u.overrides={checkSameFirmware(e,t){const s=e.name.toLowerCase(),n=t.firmware.toLowerCase();return s.includes(n)}};l();
